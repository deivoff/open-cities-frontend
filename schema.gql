# This file was generated based on ".graphqlconfig". Do not edit manually.

schema {
    query: Query
    mutation: Mutation
}

type Access {
    comment: AccessSettings!
    coowner: AccessSettingsCoowner!
    edit: AccessSettings!
    view: AccessSettings!
}

type AccessSettings {
    anyone: Boolean
    group: [User!]
    role: UserType
}

type AccessSettingsCoowner {
    group: [User!]
}

type AuthRedirect {
    url: String!
}

type AuthResponse {
    token: String!
}

type City {
    _id: ID!
    map: Map!
    name: String!
    photo: String!
    url: String!
}

type Geo {
    _id: ID!
    author: User!
    createdAt: DateTime!
    geometry: Geometry!
    layer: Layer!
    owner: User!
    properties: JSON!
    updatedAt: DateTime!
}

type Geometry {
    coordinates: GeometryCoords!
    type: GeometryType!
}

type GoogleProvider {
    id: String!
    token: String!
}

type Layer {
    _id: ID!
    access: Access!
    createdAt: DateTime!
    description: String!
    name: String!
    owner: User!
    settings: JSON!
    updatedAt: DateTime!
}

type Map {
    _id: ID!
    access: Access!
    createdAt: DateTime!
    description: String!
    draft: Boolean!
    layers: [Layer!]!
    name: String!
    owner: User!
    settings: MapSettings!
    updatedAt: DateTime!
}

type MapSettings {
    bbox: [GeometryCoords!]!
    zoom: Int!
}

type Mutation {
    authGoogle(code: String!): AuthResponse!
    createGeo(geoInput: GeoInput!): Geo!
    createGeos(geoInput: [GeoInput!]!): [Geo!]!
    createLayer(layerInput: LayerInput!, mapId: ID!): Layer!
    createMap(mapInput: MapInput!, type: AccessType): Map!
}

type Query {
    cities: [City!]!
    city(url: String!): City
    geos(layerId: ID!): [Geo!]!
    getGoogleOAuthRedirect: AuthRedirect!
    layers(mapId: String!): [Layer!]!
    map(id: String!): Map
    maps(userId: String!): [Map!]!
    users: [User!]!
}

type User {
    _id: ID!
    email: String!
    name: UserName!
    photos: [UserPhoto!]!
    role: UserType!
    social: UserSocial!
}

type UserName {
    familyName: String!
    givenName: String!
}

type UserPhoto {
    url: String!
}

type UserSocial {
    googleProvider: GoogleProvider!
}

enum AccessType {
    city
    default
}

enum GeometryType {
    LineString
    MultiLineString
    MultiPoint
    MultiPolygon
    Point
    Polygon
}

enum UserType {
    admin
    researcher
    user
}

input GeoInput {
    geometry: GeometryInput!
    layer: ID!
    properties: JSON!
}

input GeometryInput {
    coordinates: GeometryCoords!
    type: GeometryType!
}

input LayerInput {
    description: String!
    name: String!
    settings: JSON!
}

input MapInput {
    description: String!
    name: String!
    settings: MapSettingInput!
}

input MapSettingInput {
    bbox: [GeometryCoords!]!
    zoom: Int!
}


"The javascript `Date` as string. Type represents date and time as the ISO Date string."
scalar DateTime

"The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf)."
scalar JSON

"Coordinates scalar type"
scalar GeometryCoords
